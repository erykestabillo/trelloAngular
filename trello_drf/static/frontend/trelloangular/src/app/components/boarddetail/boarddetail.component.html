
<!-- B04533 -->
<app-header [board]="board"></app-header>
<div style="background-color: #B04533;">
<ng-template #content let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Add List</h4>
          <button type="button"
                  class="close"
                  aria-label="Close"
                  (click)="modal.dismiss('Cross click')"
                  #closeModal
                  >
                  <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
                <br>
                <form [formGroup]="Listform" >            
                    <input 
                        formControlName="listTitle"
                        class="form-control" 
                        type="text"                
                        name="listTitle"
                        placeholder="List title"
                        [ngClass]="{ 'is-invalid': submitted && listForm.listTitle.errors }"
                    >
                    <div *ngIf="submitted && listForm.listTitle.errors" class="text-danger">
                        <small *ngIf="listForm.listTitle.errors.required">Title is required</small>
                    </div>
                    <br>
                    <hr>
                    <button type="submit"
                            class="btn btn-outline-dark float-right mr-3"
                            ngbAutofocus
                            [disabled] ="!List"
                            (click)="modal.dismiss(addList())"
                            >
                              Save
                    </button>
                    
                    
                </form>
        </div>

      </ng-template>
  
      
      <div>
        <mat-sidenav-container autosize class="example-container" (backdropClick)="close('backdrop')" >
            <mat-sidenav  id="content" class="example-sidenav" (keydown.escape)="close('escape')"  #sidenav mode="side">
              <div *ngIf="board">
                <h6 style="padding: 5px;">Title:</h6>
                <div class="modal-title" id="title">
                    <h4 *ngIf="!clicked"
                        (click)="titleClick($event)"
                    >
                        {{ board.title }}
                    </h4>

                    <form  [formGroup]="EditBoardForm" (ngSubmit)="editBoard()">            
                        <input 
                            *ngIf="clicked"
                            formControlName="boardTitle"
                            class="form-control" 
                            type="text"                
                            name="boardTitle"
                            value="{{ board.title }}"
                            style="color: black;"
                            [ngClass]="{ 'is-invalid': boardSubmitted && editBoardForm.boardTitle.errors }"
                        >
                        <div *ngIf="boardSubmitted && editBoardForm.boardTitle.errors" class="text-danger">
                            <small *ngIf="editBoardForm.boardTitle.errors.required">Title is required</small>
                            <br>
                        </div>
                      </form>
                  </div>
                  <div style="padding-top:10px;">
                    <h4  id="archives">Archives</h4>
                      <div id="archiveContainer">
                        <div *ngFor="let card of archives; let i = index">
                            <ul class="list-group">
                              <div class="list-group-item" style="display: inline;">
                                {{ card.title }}
                                <div class="fas fa-trash-alt" (click)="cardDelete(card.id, i)" style="display: inline; float: right; background: none; cursor: pointer;"></div>
                                <div class="fas fa-trash-restore" (click)="restoreCard(card.title, card.board_list, card.id, i)" style="display: inline; float: right; background: none; cursor: pointer; margin-right: 10px;"></div>
                              </div>
                            </ul>
                          </div>
                      </div>
                  </div>
                    
              

              
            </div>
            </mat-sidenav>
      

            <mat-sidenav-content class="example-sidenav-content" >
                <p><button class="btn" id="menu-btn"  mat-button type="button" (click)="sidenav.toggle()" (click)="clicked=false" (click)="archiveList()" (click)="boardSubmitted=false"  >Menu</button></p>
                
                
                <button class="btn btn-outline-light m-3" (click)="open(content)">Add List</button>

                
                  <div cdkDropListGroup style="display: flex; overflow-x: auto; width: 100%; height: 80vh;" >
                      <app-board-list #boardListCards class="col-sm-2 list-field" *ngFor = "let list of boardList" [boardList]="list">
                          
                      </app-board-list>        
                  </div>


              </mat-sidenav-content>
      
        </mat-sidenav-container>
    </div>
      
</div>

